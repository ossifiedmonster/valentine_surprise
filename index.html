<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine Surprise üíñ</title>
<style>
body {
    margin: 0;
    font-family: 'Comic Sans MS';
    background: linear-gradient(to bottom right,#ffd6e7,#ffc2d1);
    text-align: center;
    overflow-x: hidden;
}

/* Floating Hearts */
.heart {
    position: fixed;
    bottom: -20px;
    font-size: 20px;
    animation: floatUp 6s linear infinite;
    color: #ff4d6d;
}
@keyframes floatUp {
    0% { transform: translateY(0); opacity:1; }
    100% { transform: translateY(-100vh); opacity:0; }
}



.panda { font-size: 80px; margin-top: 30px; }

button {
    padding: 12px 25px;
    border: none;
    border-radius: 25px;
    font-size: 18px;
    cursor: pointer;
    margin: 10px;
}
.yes { background:#ff4d6d;color:white; }
.no { background:#6c757d;color:white; }

.section { display:none; margin-top:30px; }

.cards {
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:15px;
    padding:20px;
    max-width:900px;
    margin:auto;
}

.card img {
    width:200px;
    height:200px;
    object-fit:cover;
    border-radius:20px;
    box-shadow:0 5px 15px rgba(0,0,0,0.2);
    cursor:pointer;
    transition:0.3s;
}
.card img:hover { transform:scale(1.08); }

#wishMessage {
    font-size:22px;
    color:#c9184a;
    margin-top:20px;
}

#surprises img {
    width:120px;
    margin:10px;
    border-radius:15px;
    box-shadow:0 5px 10px rgba(0,0,0,0.2);
}

/* Proposal Popup */
#proposalPopup {
    display:none;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:white;
    padding:25px;
    border-radius:20px;
    box-shadow:0 0 20px rgba(0,0,0,0.3);
    z-index:1000;
}

/* Fireworks */
.firework {
    position: fixed;
    width:5px;
    height:5px;
    background:red;
    border-radius:50%;
    animation: explode 1s ease-out forwards;
}
@keyframes explode {
    from { transform:translate(0,0); opacity:1; }
    to { transform:translate(var(--x), var(--y)); opacity:0; }
}
</style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="songs/song.mp3" type="audio/mp3">
</audio>

<div id="main">
    <div class="panda">üêº</div>
    <h2 id="nameLine"></h2>
    <h1> Will you be my Valentine?</h1>
    <button class="yes" onclick="sayYes()">Yes üíñ</button>
    <button class="no" onclick="sayNo()">No üíî</button>
</div>

<div id="sadSection" class="section">
    <img src="images/crying.gif" width="150">

    <h2>Why did you choose no? üò¢</h2>
    <button onclick="tryAgain()">Try Again</button>
</div>

<div id="loveSection" class="section">
    <h1>Valentine Week üíò</h1>

    <div class="cards">
        <div class="card"><img src="images/rose.jpg" onclick="checkDate(7,2,'üåπ Happy Rose Day!',['rose1.png.jpg','rose2.png.jpg','sunflower.jpg'])"></div>
        <div class="card"><img src="images/propose.jpg" onclick="checkDate(8,2,'üíç Happy Propose Day!',['ring.jpg','kiss1.jpg','anklet.jpg'])"></div>
        <div class="card"><img src="images/choclate.jpg" onclick="checkDate(9,2,'üç´ Happy Chocolate Day!',['kitkat.jpg','mouse.jpg','ganache.jpg'])"></div>
        <div class="card"><img src="images/teddy1.jpg" onclick="checkDate(10,2,'üß∏ Happy Teddy Day!',['teddy.jpg','teddy.jpg','teddy.jpg'])"></div>
        <div class="card"><img src="images/promise.jpg" onclick="checkDate(11,2,'üíå Happy Promise Day!',['letter.jpg','book.jpg','sketch.jpg'])"></div>
        <div class="card"><img src="images/hug.jpg" onclick="checkDate(12,2,'ü§ó Happy Hug Day!',['hug.jpg','bangles.jpg','hug.jpg'])"></div>
        <div class="card"><img src="images/kiss.jpg" onclick="checkDate(13,2,'üíã Happy Kiss Day!',['kiss1.jpg','chain.png.jpg','kiss1.jpg'])"></div>
        <div class="card"><img src="images/velentine.jpg" onclick="checkDate(14,2,'üíñ Happy Valentine‚Äôs Day!',['dress.jpg','rose1.png.jpg','jhumke.jpg'],true)"></div>
    </div>

    <div id="wishMessage"></div>
    <div id="surprises"></div>
</div>

<div id="proposalPopup">
    <h2>I Love You So Much ‚ù§Ô∏è</h2>
    <p>Will you be mine forever?</p>

    <button onclick="acceptLove()">Yes üíñ</button>
    <button onclick="rejectLove()">No üòú</button>

    <div id="lateMessage" style="display:none; margin-top:15px;">
        <img src="images/haha.gif" width="150">
        <b>You are too late üòÇüíî</b>
    </div>
</div>


<script>
const DEV_MODE = false;

/* Hearts */
setInterval(()=>{
    let heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="‚ù§";
    heart.style.left=Math.random()*100+"vw";
    heart.style.fontSize=(Math.random()*20+10)+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),6000);
},100);

function sayNo(){ main.style.display="none"; sadSection.style.display="block"; }
function tryAgain(){ sadSection.style.display="none"; main.style.display="block"; }

function sayYes(){
    main.style.display="none";
    loveSection.style.display="block";
    document.getElementById("bgMusic").play();
    launchFireworks();
}

/* Fireworks */
function launchFireworks(){
    for(let i=0;i<80;i++){
        let fw=document.createElement("div");
        fw.className="firework";
        fw.style.left=window.innerWidth/2+"px";
        fw.style.top=window.innerHeight/2+"px";
        fw.style.setProperty('--x',(Math.random()*400-200)+'px');
        fw.style.setProperty('--y',(Math.random()*400-200)+'px');
        document.body.appendChild(fw);
        setTimeout(()=>fw.remove(),1000);
    }
}

/* Date Lock */
function checkDate(day, month, message, images, isValentine=false){
    if(DEV_MODE){
        showWish(message, images, isValentine);
        return;
    }

    let t=new Date();
    if(t.getDate()==day && (t.getMonth()+1)==month){
        showWish(message, images, isValentine);
    } else {
        wishMessage.innerText="This surprise will unlock on "+day+" Feb üíù";
        surprises.innerHTML="";
    }
}


function showWish(message, images, isValentine=false){
    wishMessage.innerText = message;
    surprises.innerHTML = "";

    images.forEach((img, index)=>{
        let box = document.createElement("div");
        box.style.display="inline-block";
        box.style.margin="10px";
        box.style.cursor="pointer";
        box.innerHTML = `<img src="images/gift.jpg" width="100">`;

        box.onclick = function(){
            // check if already chosen
           if(localStorage.getItem("chosenGift") && !DEV_MODE){

                alert("You already opened one surprise for this day üíù");
                return;
            }

            box.innerHTML = `<img src="images/${img}" width="120">`;
            localStorage.setItem("chosenGift", img);

            // lock other boxes
            let allBoxes = document.querySelectorAll("#surprises div");
            allBoxes.forEach(b=>{
                if(b !== box){
                    b.style.opacity="0.3";
                    b.style.pointerEvents="none";
                }
            });

            if(isValentine){
                setTimeout(()=>proposalPopup.style.display="block",1500);
            }
        };

        surprises.appendChild(box);
    });
}


function closePopup(){ proposalPopup.style.display="none"; }
function acceptLove(){
    proposalPopup.innerHTML = "<h2>Yayyy!! üíñ Forever Starts Now ü•∞</h2>";
}

function rejectLove(){
    document.getElementById("lateMessage").style.display = "block";
}

</script>

</body>
</html>
